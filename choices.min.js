!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self).Choices={})}(this,(function(e){"use strict";var t=function(){return(t=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var i in s)Object.prototype.hasOwnProperty.call(s,i)&&(e[i]=s[i])}return e}).apply(this,arguments)};function s(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var i=s(window),n=s(document),r=s(HTMLElement),a=s(Element),o=s(NodeList),l=s(HTMLCollection);function c(e,t){return void 0===t&&(t=document),t.querySelector(e)}function u(e,t){return void 0===t&&(t=document),[].slice.call(t.querySelectorAll(e))}var d=Object.freeze({__proto__:null,closest:function(e,t){void 0===t&&(t=Element.prototype);var s=this;return s.closest?s.closest(e):function(e,t){for(;t&&1===t.nodeType;){if(t.matches(e))return t;t=t.parentElement}return null}(e,t)},matches:function(e,t){return void 0===t&&(t=Element.prototype),t.matches?t.matches.call(this,e):t.msMatchesSelector?t.msMatchesSelector.call(this,e):t.webkitMatchesSelector?t.webkitMatchesSelector.call(this,e):(console.info("No native matches function"),null)}});function h(e){return(i.default.getComputedStyle?i.default.getComputedStyle(e):e.currentStyle).display}var p=function(){function e(t){for(var s in this._listeners={},this._choices=[],this._value=[],this._items=[],this._isFlipped=!1,this._presetGroup=[],this._presetGroupCount=0,this._direction="ltr",this._isSearching=!1,this._highlightPosition=0,this._canAddItem=!0,this._isLoading=!1,this._store={},this._eventListeners=[],this.config=t,this._classes=this.config.classNames,this.passedElement=this.config.passedElement,this.isSelectElement="select-one"===this.passedElement.type,!this.passedElement.classList.contains(this._classes.input)&&this.passedElement.classList.add(this._classes.input),this.render(),this._handleInitialFocus(),void 0)if(Object.prototype.hasOwnProperty.call(this.config,t))this[t]=this.config[t]}return e.prototype.render=function(){this._createContainer(),this._createInput(),this._createList(),this._createDropdown(),this._createAriaAttributes(),this._store.dispatch("activate",!0),this._addEventListeners()},e.prototype._addEventListeners=function(){var e=this;this._documentClickListener=function(t){!e.dropdown.isActive&&!e.containerOuter.contains(t.target)&&e.hideDropdown()},this._documentKeyUpListener=function(t){var s=t.keyCode||t.which;switch(s){case 13:e.showDropdown();break;case 27:e.hideDropdown();break;case 32:e.showDropdown()}},document.addEventListener("click",this._documentClickListener),document.addEventListener("keyup",this._documentKeyUpListener)},e.prototype._createContainer=function(){var e=n.default.createElement("div");e.classList.add(this._classes.containerOuter),this.passedElement.parentNode.insertBefore(e,this.passedElement),e.appendChild(this.passedElement),this.containerOuter=e},e.prototype._createInput=function(){var e=n.default.createElement("input");e.classList.add(this._classes.input),e.type="text",this.passedElement.style.display="none",this.containerOuter.appendChild(e),this.input=e},e.prototype._createList=function(){var e=n.default.createElement("ul");e.classList.add(this._classes.list),this.containerOuter.appendChild(e),this.list=e},e.prototype._createDropdown=function(){var e=n.default.createElement("div");e.classList.add(this._classes.dropdown),e.appendChild(this.list),this.containerOuter.appendChild(e),this.dropdown=e},e}();function f(e){return new p(e)}e.default=f,Object.defineProperty(e,"__esModule",{value:!0})}));
